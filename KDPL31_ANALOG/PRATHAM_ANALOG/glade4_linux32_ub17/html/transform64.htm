<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><!-- #BeginTemplate "/Templates/glade.dwt" --><!-- DW6 -->
<head>
<!-- #BeginEditable "doctitle" --> 
<title>Glade Reference Manual</title>
<link href="CSS Docs/shadowHeading1.css" rel="stylesheet" type="text/css">
<!-- #EndEditable -->
<meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
<style type="text/css">
body,td,th {
	font-family: Arial, Helvetica, sans-serif;
}
</style>
</head>
<body bgcolor="#FFFFFF">
<div align="left"><img src="images/canvasview" width="32" height="32" align="right"><br>
</div>
<div align="left">
  <p align="left"><font face="Arial, Helvetica, sans-serif"><b><font size="4">Glade 
    Reference</font></b></font></p>
  <hr>
  <!-- #BeginEditable "text" --> 
  <h2><font face="Arial, Helvetica, sans-serif">transform64</font></h2>
  <p><font face="Arial, Helvetica, sans-serif">The transform64 class contains functions to transform 
coordinates in subcells placed with offset, rotation and magnification. It 
differs from the transform class in that internally it uses double precision 
for the matrix elements, allowing any angle rotation and non-integer scaling. 
Note that all coordinates after 
    transform are converted to integer database units; no grid snapping 
    is performed.<br>
    <br>
    All of this code is based on the fact that a point with coordinates x, y can 
    be transformed by a transformation matrix T by:<br>
    <br>
    [x', y', 1] = [x, y, 1]T</font></p>
  <p><font face="Arial, Helvetica, sans-serif"> The transformation matrix for 
    an offset (a,b) with no rotation or magnification can be described as</font></p>
  <pre><p><font face="Arial, Helvetica, sans-serif">  T = [ 1 0 0 ]<br>
        [ 0 1 0 ]<br>
        [ a b 1 ]</font></p> </pre>
  <p><font face="Arial, Helvetica, sans-serif"> Rotations are e.g.</font></p>
  <pre><p><font face="Arial, Helvetica, sans-serif"> T90 = [ 0 1 0 ]<br>
          [ -1 0 0 ]<br>
          [ 0 0 1 ]</font></p> </pre>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans = transform64(double angle, 
    <a href="Point.htm">Point</a> p, float scale)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Construct a transform with orientation 
    <i>angle</i>, origin <i>p</i> and magnification <i>scale</i>   
           . The orientation is specified in degrees.</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans = transform64(double angle, 
    <a href="Point.htm">Point</a> p)</font></h4>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans = transform64(double angle, 
    int x, int y)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Construct a transform with orientation angle, origin p or x/y.The 
    orientation is specified in degrees.</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans = transform64(double angle,  int x, 
    int y, float scale)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Construct a transform with orientation 
    <i>angle</i>, origin <i>p</i> and magnification <i>scale</i>   . The 
    orientation is specified in degrees.</font></p>
  <h4><font face="Arial, Helvetica, sans-serif" >  </font>&nbsp;</h4>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans = transform64(double angle)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Construct a transform with orientation 
    angle.</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans = transform64()</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Construct a transform with orientation 
    R0.</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.invert()</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Invert a transformation matrix</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.inverseTransformRect(<a href="Rect.htm">Rect</a> box)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Transform a Rect by the inverse 
    of the transformation matrix. Useful if you want to take a Rect and transform 
    it into the coordinate space of an instance with a transform. For example 
    if you want to find if any shapes in an instance overlap a search box for 
    a top level cell, use the inverse transform of the search box on all the instance's 
    shapes. This means doing just one transform of the search box rather than 
    one transform for each shape in the instance.</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.inverseTransformPoint(<a href="Point.htm">Point</a> p)</font></h4>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.inverseTransformPoint(int 
    x, int y)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Transform a Point by the inverse 
    of the transformation matrix</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.transformRect(<a href="Rect.htm">Rect</a> box)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Transform a Rect by the transformation 
    matrix</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.transformRect(<a href="Rect.htm">Rect</a> box, 
    <a href="Point.htm">Point</a> origin)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Transform a Rect by the transformation 
    matrix about a point origin.</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.transformPoint(<a href="Point.htm">Point</a> p)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Transform a Point by the transformation 
    matrix</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.transformPoint(<a href="Point.htm">Point</a> p, 
    <a href="Point.htm">Point</a> origin)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Transform a point by the transformation 
    matrix about a point origin.</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.transformPointList(<a href="Point.htm">Point</a> *ptlist, int size)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Transform an array of points of 
    size size by the transformation matrix.</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.transformPointList(<a href="Point.htm">Point</a> *ptlist, int size, <a href="Point.htm">Point</a> origin)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Transform an array of points of 
    size size by the transformation matrix about a point origin.</font></p>
  <h4>
  <p>&nbsp;</p>
  </h4>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.setOrigin(<a href="Point.htm">Point</a> p)</font></h4>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.setOrigin(int x, int y)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Set the transformation origin.</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif"><a href="Point.htm">Point</a> origin = trans.getOrigin()</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Get the transformation origin.</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">trans.setMag(float scale)</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Set the transformation matrix scale.</font></p>
  <p><font face="Arial"></font>&nbsp;</p>
  <p class="shadowHeading1"><font face="Arial"><strong>trans.setOrient(double 
angle)</strong></font></p>
  <p><font face="Arial">Set the transformation angle. Any 
existing scale will be reset to 1.0</font><font face="Arial"></p>
  <p>&nbsp;</p>
  <h4 class="shadowHeading1"><font face="Arial, Helvetica, sans-serif">bool swapped = trans.isXYSwapped()</font></h4>
  <p><font face="Arial, Helvetica, sans-serif">Returns True if the transformation 
    is such that the objects XY coordinates would be swapped, e,g, if the object 
    is R90</font>.</p>
  <p>&nbsp;</p><!-- #EndEditable --> 
  <p><a href="contents.htm"><font face="Arial, Helvetica, sans-serif">Contents</font></a><font face="Arial, Helvetica, sans-serif">|<a href="subject_index.htm">Index</a></font></p>
  <p><font face="Arial, Helvetica, sans-serif" size="-2">Copyright &copy; Peardrop 
    Design 2018.</font></p>
</div>
</body>
<!-- #EndTemplate --></html>
